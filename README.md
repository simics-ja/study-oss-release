# OSS Release Study Repository

ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ã€GitHubä¸Šã§OSSã‚’ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹æ–¹æ³•ã‚’å­¦ç¿’ã™ã‚‹ãŸã‚ã®å®Ÿè·µçš„ãªã‚µãƒ³ãƒ—ãƒ«é›†ã§ã™ã€‚

## ğŸ“š å­¦ç¿’å†…å®¹

### 1. NPMãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å…¬é–‹
- **å ´æ‰€**: `/npm-package`
- **å†…å®¹**: ã‚·ãƒ³ãƒ—ãƒ«ãªæ–‡å­—åˆ—ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- **å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ**:
  - package.jsonã®è¨­å®š
  - npmã¸ã®å…¬é–‹æ‰‹é †
  - ã‚¹ã‚³ãƒ¼ãƒ—ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç®¡ç†

### 2. Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®å…¬é–‹
- **å ´æ‰€**: `/docker-app`
- **å†…å®¹**: Node.jsãƒ™ãƒ¼ã‚¹ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
- **å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ**:
  - Dockerfileã®ä½œæˆ
  - GitHub Container Registry (ghcr.io)ã¸ã®å…¬é–‹
  - ãƒãƒ«ãƒã‚¹ãƒ†ãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰

### 3. ãƒã‚¤ãƒŠãƒªé…å¸ƒ
- **å ´æ‰€**: `/go-cli`
- **å†…å®¹**: Goè¨€èªã§å®Ÿè£…ã•ã‚ŒãŸCLIãƒ„ãƒ¼ãƒ«
- **å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ**:
  - ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãƒ“ãƒ«ãƒ‰
  - GitHub Releasesã§ã®é…å¸ƒ
  - ãƒã‚§ãƒƒã‚¯ã‚µãƒ ã®ç”Ÿæˆ

### 4. ãƒªãƒªãƒ¼ã‚¹è‡ªå‹•åŒ–
- **å ´æ‰€**: `/.github/workflows`
- **å†…å®¹**: GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
- **å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ**:
  - CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³æ§‹ç¯‰
  - è‡ªå‹•ãƒªãƒªãƒ¼ã‚¹ãƒ—ãƒ­ã‚»ã‚¹
  - è¤‡æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çµ±åˆãƒªãƒªãƒ¼ã‚¹

## ğŸš€ ä½¿ã„æ–¹

### NPMãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ†ã‚¹ãƒˆ
```bash
cd npm-package
npm test
```

### Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ“ãƒ«ãƒ‰
```bash
cd docker-app
docker build -t demo-app .
docker run -p 3000:3000 demo-app
```

### Go CLIã®ãƒ“ãƒ«ãƒ‰
```bash
cd go-cli
make build-all
```

## ğŸ“¦ ãƒªãƒªãƒ¼ã‚¹æ–¹æ³•

### æ‰‹å‹•ãƒªãƒªãƒ¼ã‚¹

#### NPMãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
```bash
cd npm-package
npm login
npm publish --access public
```

#### Dockerã‚¤ãƒ¡ãƒ¼ã‚¸
```bash
cd docker-app
docker build -t ghcr.io/USERNAME/app:latest .
docker push ghcr.io/USERNAME/app:latest
```

#### Goãƒã‚¤ãƒŠãƒª
```bash
cd go-cli
make build-all
# GitHub Releasesãƒšãƒ¼ã‚¸ã§æ‰‹å‹•ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
```

### è‡ªå‹•ãƒªãƒªãƒ¼ã‚¹

ã‚¿ã‚°ã‚’ãƒ—ãƒƒã‚·ãƒ¥ã™ã‚‹ã“ã¨ã§è‡ªå‹•ãƒªãƒªãƒ¼ã‚¹ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ï¼š

```bash
git tag release-1.0.0
git push origin release-1.0.0
```

ã¾ãŸã¯ã€GitHub Actionsã®UIã‹ã‚‰æ‰‹å‹•ã§ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

## ğŸ“ å¿…è¦ãªè¨­å®š

### Secretsè¨­å®š
- `NPM_TOKEN`: NPMã®èªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³
- `GITHUB_TOKEN`: è‡ªå‹•ã§æä¾›ã•ã‚Œã‚‹ï¼ˆè¨­å®šä¸è¦ï¼‰

### Permissionsè¨­å®š
- Packages: writeæ¨©é™
- Contents: writeæ¨©é™ï¼ˆReleasesã®ä½œæˆç”¨ï¼‰

## ğŸ—ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
.
â”œâ”€â”€ npm-package/          # NPMãƒ‘ãƒƒã‚±ãƒ¼ã‚¸
â”‚   â”œâ”€â”€ index.js
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ README.md
â”œâ”€â”€ docker-app/          # Dockerã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
â”‚   â”œâ”€â”€ app.js
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ go-cli/              # Go CLIãƒ„ãƒ¼ãƒ«
â”‚   â”œâ”€â”€ main.go
â”‚   â”œâ”€â”€ go.mod
â”‚   â””â”€â”€ Makefile
â””â”€â”€ .github/workflows/   # GitHub Actions
    â”œâ”€â”€ npm-publish.yml
    â”œâ”€â”€ docker-publish.yml
    â”œâ”€â”€ go-release.yml
    â””â”€â”€ release-all.yml
```

## ğŸ“„ ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## ğŸ¤ ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³

å­¦ç¿’ç”¨ãƒªãƒã‚¸ãƒˆãƒªã®ãŸã‚ã€ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯å—ã‘ä»˜ã‘ã¦ã„ã¾ã›ã‚“ã€‚
ãƒ•ã‚©ãƒ¼ã‚¯ã—ã¦è‡ªç”±ã«å®Ÿé¨“ã—ã¦ãã ã•ã„ã€‚